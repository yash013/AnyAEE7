(this.webpackJsonpAnyAEE7=this.webpackJsonpAnyAEE7||[]).push([[0],{191:function(e,n,t){},278:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"dest","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"func","type":"bytes"}],"name":"exec","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},315:function(e,n){},354:function(e,n){},361:function(e,n){},373:function(e,n){},376:function(e,n){},384:function(e,n){},385:function(e,n){},403:function(e,n){},405:function(e,n){},416:function(e,n){},418:function(e,n){},431:function(e,n){},433:function(e,n){},456:function(e,n){},498:function(e,n,t){"use strict";t.r(n);var a,c,r,o,i,s,l,u,d,b=t(29),f=(t(191),t(510)),j=t(511),h=t(512),p=t(4),O=t.n(p),v=t(277),x=t.n(v),g=t(0),m=t(8),w=t(11),y=t(74),k=t(509),I=t(108),E=t(515),C=t(513),S=t(278),A=t(279),M=t.n(A),D=(t(311),t(12)),z=function(){return Object(D.jsx)("footer",{})},W=t(69),F=t(70),L=F.a.div(a||(a=Object(W.a)(["\n  align-items: center;\n  color: white;\n  display: flex;\n  flex-direction: column;\n  font-size: calc(10px + 2vmin);\n  justify-content: center;\n  margin-top: 40px;\n"]))),N=F.a.button(c||(c=Object(W.a)(["\n  background-color: white;\n  border: none;\n  border-radius: 8px;\n  color: #282c34;\n  cursor: pointer;\n  font-size: 16px;\n  margin: 0px 20px;\n  padding: 12px 24px;\n  text-align: center;\n  text-decoration: none;\n"]))),U=F.a.div(r||(r=Object(W.a)(["\n  background-color: #282c34;\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh);\n"]))),R=F.a.header(o||(o=Object(W.a)(["\n  align-items: center;\n  background-color: #282c34;\n  color: white;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  min-height: 70px;\n"]))),T=(F.a.img(i||(i=Object(W.a)(["\n  height: 40vmin;\n  margin-bottom: 16px;\n  pointer-events: none;\n"]))),F.a.a.attrs({target:"_blank",rel:"noopener noreferrer"})(s||(s=Object(W.a)(["\n  color: #61dafb;\n  margin-top: 8px;\n"]))),F.a.textarea(l||(l=Object(W.a)([""])))),B=F.a.text(u||(u=Object(W.a)([""]))),G=(F.a.a(d||(d=Object(W.a)(["\n  color: #fff;\n  margin-bottom: 20px;\n  font-size: 18px;\n  text-decoration: none;\n   \n  &:hover {\n      color: green;\n      transition: 200ms ease-in;\n  }\n"]))),t(297)),P=t(289),_=t.n(P),J=function(){var e=Object(m.a)(Object(g.a)().mark((function e(n){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var a=new Image;a.onload=function(){return e(a)},a.onerror=function(e){return t(e)},a.src=n})).then((function(e){var n=document.createElement("canvas");n.width=e.width,n.height=e.height;var t=n.getContext("2d");if(!t)throw new Error("Could not generate context from canvas");return t.drawImage(e,0,0),console.log({img:e}),t.getImageData(0,0,e.width,e.height)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),q=t(290),H=t.n(q),X=t(16),K="safeAppWcUri";function Q(){var e=Object(p.useState)(""),n=Object(w.a)(e,2),t=n[0],a=n[1],c=Object(k.a)().ens,r=Object(I.a)(),o=r.account,i=r.activateBrowserWallet,s=r.deactivate,l=r.error;r.chainId;return Object(p.useEffect)((function(){a(c||(o?Object(E.a)(o):""))}),[o,c,a]),Object(p.useEffect)((function(){l&&console.error("Error while connecting wallet:",l.message)}),[l]),Object(D.jsxs)(N,{onClick:function(){o?s():i()},children:[""===t&&"Connect Wallet",""!==t&&t]})}function V(){var e=new X.ethers.utils.Interface(S),n=new y.b("0x4a2F2a0d936c0532175E8cc3E04467AD49dc706A",e),t=Object(p.useState)(void 0),a=Object(w.a)(t,2),c=a[0],r=a[1],o=Object(p.useState)(void 0),i=Object(w.a)(o,2),s=(i[0],i[1],Object(p.useState)(null)),l=Object(w.a)(s,2),u=l[0],d=l[1],b=Object(p.useState)(void 0),f=Object(w.a)(b,2),j=f[0],h=f[1],v=Object(p.useState)(null),x=Object(w.a)(v,2),k=x[0],E=x[1],A=Object(p.useState)(""),z=Object(w.a)(A,2),W=z[0],F=z[1],L=Object(p.useState)(!1),U=Object(w.a)(L,2),R=U[0],P=U[1],q=Object(I.a)(),Q=q.account,V=q.chainId,Y=q.library,Z=Object(p.useState)({to:null}),$=Object(w.a)(Z,2),ee=$[0],ne=$[1],te=Object(C.a)(n,"exec",{transactionName:"Exec"}).send;Object(p.useEffect)((function(){var e=function(e){var n=(e.clipboardData||e.originalEvent.clipboardData).items;for(var t in n){var a=n[t];if("file"===a.kind){var c=a.getAsFile();console.log({blob:c});var r=new FileReader;r.onload=function(){var e=Object(m.a)(Object(g.a)().mark((function e(n){var t,a;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(n.target.result);case 2:t=e.sent,(a=_()(t.data,t.width,t.height))&&a.data&&ce(a.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),r.readAsDataURL(c),console.log({reader:r})}}};return window.addEventListener("paste",e),function(){window.removeEventListener("paste",e)}}),[]);var ae=O.a.useCallback(Object(m.a)(Object(g.a)().mark((function e(){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===j||void 0===j||j.killSession(),localStorage.removeItem(K),h(void 0);case 3:case"end":return e.stop()}}),e)}))),[j]),ce=O.a.useCallback(function(){var e=Object(m.a)(Object(g.a)().mark((function e(n){var t;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new G.a({uri:n,clientMeta:{description:"EIP4337 any",url:"http://localhost:3000/",icons:["https://github.com/WalletConnect/walletconnect-assets/blob/master/Logo/Black/Logo.svg"],name:"EIP4337 Any"}}),console.log(t),E(t.peerMeta),t.on("session_request",function(){var e=Object(m.a)(Object(g.a)().mark((function e(n,a){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log({payload:a}),!n){e.next=3;break}throw n;case 3:console.log("account",Q),console.log("chainId",V),console.log("library",Y),t.approveSession({accounts:["0x4a2F2a0d936c0532175E8cc3E04467AD49dc706A"],chainId:V}),E(a.params[0].peerMeta);case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),t.on("call_request",function(){var e=Object(m.a)(Object(g.a)().mark((function e(n,t){var a;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log({payload:t}),!n){e.next=3;break}throw n;case 3:"eth_sendTransaction"===t.method&&(a=t.params[0],console.log("txInfo",a),ne({to:a.to,value:a.value,data:a.data}));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),t.on("disconnect",(function(e,n){if(e)throw e;ae()})),console.log({connector:t}),h(t),localStorage.setItem(K,n);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[Q,V]);Object(p.useEffect)((function(){var e=localStorage.getItem(K);e&&ce(e)}),[ce]),Object(p.useEffect)((function(){var e=new H.a(Y,{activeNetworkId:V,supportedNetworksIds:[V],networkConfig:[{chainId:V,dappAPIKey:5===V?"gUv-7Xh-M.aa270a76-a1aa-4e79-bab5-8d857161c561":"59fRCMXvk.8a1652f0-b522-4ea7-b296-98628499aee3"}]});e.init().then((function(e){console.log(e)})).catch((function(e){console.log(e)})),d(e)}),[V,Y]);return Object(p.useEffect)((function(){function e(){return(e=Object(m.a)(Object(g.a)().mark((function e(){var n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===ee.to){e.next=15;break}if(!R){e.next=13;break}return console.log("in gasless mode"),n={to:ee.to,data:ee.data,value:ee.value},console.log(n),u.on("txHashGenerated",(function(e){console.log("txHashGenerated event received via emitter",e)})),u.on("txMined",(function(e){console.log("txMined event received via emitter",e)})),u.on("error",(function(e){console.log("error event received via emitter",e)})),e.next=10,u.sendGasLessTransaction({transaction:n});case 10:e.sent,e.next=14;break;case 13:te(ee.to,ee.value||"0x0",ee.data||"0x");case 14:ne({to:null});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[ee,R,te,u]),void 0===j?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("label",{htmlFor:"cheese-status",children:"GasLess Mode"}),Object(D.jsx)(M.a,{id:"cheese-status",defaultChecked:R,onChange:function(){return P(!R)}})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("label",{children:"Smart Wallet Address"}),Object(D.jsx)("div",{children:Object(D.jsx)(T,{id:"sc-address",label:"Smart Wallet Address",value:c,onChange:function(e){return r(e.target.value)}})}),Object(D.jsxs)("div",{children:[Object(D.jsx)("label",{children:"Wallet Connect URI"}),Object(D.jsx)("div",{children:Object(D.jsx)(T,{id:"wc-uri",label:"WalletConnect URI",value:W,onChange:function(e){return F(e.target.value)}})})]})]}),Object(D.jsx)("div",{children:Object(D.jsx)(N,{size:"md",color:"primary",variant:"contained",onClick:function(){return ce(W)},children:"Connect"})})]}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)(B,{size:"lg",children:["Bridge: ",j.bridge]}),Object(D.jsxs)(B,{size:"lg",children:["Dapp name: ",null===k||void 0===k?void 0:k.name]}),Object(D.jsxs)(B,{size:"lg",children:["Dapp url: ",null===k||void 0===k?void 0:k.url]}),Object(D.jsx)("div",{children:Object(D.jsx)(N,{size:"md",color:"primary",variant:"contained",onClick:function(){return ae()},children:"Disconnect"})})]})}var Y,Z=function(){return Object(D.jsxs)(U,{children:[Object(D.jsxs)(R,{className:"header-title",children:[Object(D.jsx)("h1",{className:"header-title",children:"AnyAEE7"}),Object(D.jsx)(Q,{})]}),Object(D.jsx)(L,{children:Object(D.jsx)(V,{})}),Object(D.jsx)(z,{})]})},$="2a1a54c3aa374385ae4531da66fdf150",ee={readOnlyChainId:f.c.chainId,readOnlyUrls:(Y={},Object(b.a)(Y,f.c.chainId,"https://mainnet.infura.io/v3/"+$),Object(b.a)(Y,f.a.chainId,"https://goerli.infura.io/v3/"+$),Object(b.a)(Y,j.b.chainId,"https://polygon-mainnet.infura.io/v3/"+$),Object(b.a)(Y,j.a.chainId,"https://polygon-mumbai.infura.io/v3/"+$),Y)};x.a.render(Object(D.jsx)(O.a.StrictMode,{children:Object(D.jsx)(h.a,{config:ee,children:Object(D.jsx)(Z,{})})}),document.getElementById("root"))}},[[498,1,2]]]);
//# sourceMappingURL=main.0073b7b4.chunk.js.map