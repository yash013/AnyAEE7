{"version":3,"sources":["Footer.js","components/index.js","utils.js","App.js","index.js"],"names":["Footer","Body","styled","div","Button","button","Container","Header","header","TextField","img","a","attrs","target","rel","textarea","Text","text","blobToImageData","blob","Promise","resolve","reject","Image","onload","onerror","err","src","then","canvas","document","createElement","width","height","ctx","getContext","Error","drawImage","console","log","getImageData","LOCAL_STORAGE_URI_KEY","WalletButton","useState","rendered","setRendered","ens","useLookupAddress","useEthers","account","activateBrowserWallet","deactivate","error","chainId","useEffect","shortenAddress","message","onClick","WalletConnectEIP4337SmartWallet","EIP4337SmartWalletInterface","ethers","utils","Interface","EIP4337SmartWalletABI","smartWalletContract","Contract","undefined","smartWalletAddress","setSmartWalletAddress","smartWallet","setSmartWallet","connector","setConnector","peerData","setPeerData","wcUri","setWcUri","isGasLess","setIsGasLess","library","tx","setTx","send","useContractFunction","transactionName","listener","event","items","clipboardData","originalEvent","index","item","kind","getAsFile","reader","FileReader","result","imageData","code","jsQr","data","wcConnect","readAsDataURL","window","addEventListener","removeEventListener","wcDisconnect","React","useCallback","killSession","localStorage","removeItem","uri","WalletConnect","clientMeta","description","url","icons","name","peerMeta","on","payload","approveSession","accounts","params","method","txInfo","to","value","setItem","getItem","smartWallet1","SmartAccount","activeNetworkId","supportedNetworksIds","networkConfig","dappAPIKey","init","res","catch","tx1","response","sendGasLessTransaction","transaction","handleTx","htmlFor","id","defaultChecked","onChange","label","e","size","color","variant","bridge","App","className","INFURA_PROJECT_ID","config","readOnlyChainId","Mainnet","readOnlyUrls","Goerli","Polygon","Mumbai","ReactDOM","render","StrictMode","DAppProvider","getElementById"],"mappings":"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","file":"static/js/main.0073b7b4.chunk.js","sourcesContent":["const Footer = () => {\n    return (\n        <footer>\n        </footer>\n    );\n};\nexport default Footer;","import styled from \"styled-components\";\n\nexport const Body = styled.div`\n  align-items: center;\n  color: white;\n  display: flex;\n  flex-direction: column;\n  font-size: calc(10px + 2vmin);\n  justify-content: center;\n  margin-top: 40px;\n`;\n\nexport const Button = styled.button`\n  background-color: white;\n  border: none;\n  border-radius: 8px;\n  color: #282c34;\n  cursor: pointer;\n  font-size: 16px;\n  margin: 0px 20px;\n  padding: 12px 24px;\n  text-align: center;\n  text-decoration: none;\n`;\n\nexport const Container = styled.div`\n  background-color: #282c34;\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh);\n`;\n\nexport const Header = styled.header`\n  align-items: center;\n  background-color: #282c34;\n  color: white;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  min-height: 70px;\n`;\n\nexport const Image = styled.img`\n  height: 40vmin;\n  margin-bottom: 16px;\n  pointer-events: none;\n`;\n\nexport const Link = styled.a.attrs({\n  target: \"_blank\",\n  rel: \"noopener noreferrer\",\n})`\n  color: #61dafb;\n  margin-top: 8px;\n`;\n\nexport const TextField = styled.textarea``;\nexport const Text = styled.text``;\n\nexport const FooterLink = styled.a`\n  color: #fff;\n  margin-bottom: 20px;\n  font-size: 18px;\n  text-decoration: none;\n   \n  &:hover {\n      color: green;\n      transition: 200ms ease-in;\n  }\n`;\n\n","export const blobToImageData = async (blob) => {\n    // let blobUrl = URL.createObjectURL(blob);\n\n    return new Promise((resolve, reject) => {\n        let img = new Image();\n        img.onload = () => resolve(img);\n        img.onerror = err => reject(err);\n        img.src = blob;\n    }).then((img) => {\n\n        let canvas = document.createElement(\"canvas\");\n        canvas.width = img.width;\n        canvas.height = img.height;\n        let ctx = canvas.getContext(\"2d\");\n\n        if (!ctx) throw new Error(\"Could not generate context from canvas\");\n\n        ctx.drawImage(img, 0, 0);\n        console.log({ img });\n        return ctx.getImageData(0, 0, img.width, img.height);    // some browsers synchronously decode image here\n    });\n};\n\n// export const chainIdToNetwork = {\n//     1: \"mainnet\",\n//     5: \"goerli\",\n//     137: \"polygon\"\n// };","import { Contract } from \"@ethersproject/contracts\";\nimport { shortenAddress, useEthers, useLookupAddress, useContractFunction } from \"@usedapp/core\";\nimport React, { useEffect, useState } from \"react\";\nimport EIP4337SmartWalletABI from \"./EIP4337SmartWalletABI.json\";\nimport Toggle from 'react-toggle';\nimport \"react-toggle/style.css\";\nimport \"./index.css\";\nimport Footer from \"./Footer\";\n\n\n\nimport { Body, Button, Container, Header, Image, Link, TextField, Text } from \"./components\";\nimport WalletConnect from \"@walletconnect/client\";\nimport jsQr from \"jsqr\";\nimport { blobToImageData } from \"./utils\";\n\nimport SmartAccount from \"@biconomy/smart-account\";\n\nimport { ethers } from \"ethers\";\n\nconst LOCAL_STORAGE_URI_KEY = 'safeAppWcUri';\n\nfunction WalletButton() {\n  const [rendered, setRendered] = useState(\"\");\n\n  const { ens } = useLookupAddress();\n  const { account, activateBrowserWallet, deactivate, error, chainId } = useEthers();\n\n  useEffect(() => {\n    if (ens) {\n      setRendered(ens);\n    } else if (account) {\n      setRendered(shortenAddress(account));\n    } else {\n      setRendered(\"\");\n    }\n  }, [account, ens, setRendered]);\n\n  useEffect(() => {\n    if (error) {\n      console.error(\"Error while connecting wallet:\", error.message);\n    }\n  }, [error]);\n\n  return (\n    <Button\n      onClick={() => {\n        if (!account) {\n          activateBrowserWallet();\n        } else {\n          deactivate();\n        }\n      }}\n    >\n      {rendered === \"\" && \"Connect Wallet\"}\n      {rendered !== \"\" && rendered}\n    </Button>\n  );\n}\n\nfunction WalletConnectEIP4337SmartWallet() {\n  const EIP4337SmartWalletInterface = new ethers.utils.Interface(EIP4337SmartWalletABI);\n\n  const smartWalletContract = new Contract(\"0x4a2F2a0d936c0532175E8cc3E04467AD49dc706A\", EIP4337SmartWalletInterface);\n\n\n  const [smartWalletAddress, setSmartWalletAddress] = useState(undefined);\n  // const [smartWalletContract, setSmartWalletContract] = useState(new Contract(\"0x4a2F2a0d936c0532175E8cc3E04467AD49dc706A\", EIP4337SmartWalletInterface));\n  const [martWalletSendFunction, setSmartWalletSendFunction] = useState(undefined);\n  const [smartWallet, setSmartWallet] = useState(null);\n  const [connector, setConnector] = useState(undefined);\n  const [peerData, setPeerData] = useState(null);\n  const [wcUri, setWcUri] = useState('');\n  const [isGasLess, setIsGasLess] = useState(false);\n  const { account, chainId, library } = useEthers();\n  const [tx, setTx] = useState({ \"to\": null });\n\n  const { send } = useContractFunction(smartWalletContract, 'exec', { transactionName: 'Exec' });\n\n\n  useEffect(() => {\n    const listener = (event) => {\n      const items = (event.clipboardData || event.originalEvent.clipboardData).items;\n\n      for (const index in items) {\n        var item = items[index];\n        if (item.kind === 'file') {\n          const blob = item.getAsFile();\n          console.log({ blob });\n\n          const reader = new FileReader();\n          reader.onload = async (event) => {\n            const imageData = await blobToImageData(event.target.result);\n            const code = jsQr(imageData.data, imageData.width, imageData.height);\n            if (code && code.data) {\n              wcConnect(code.data);\n            }\n\n          }; // data url!\n          reader.readAsDataURL(blob);\n\n\n          console.log({ reader });\n        }\n      }\n      // jsQr(qrCode);\n    };\n    window.addEventListener(\"paste\", listener);\n    return () => { window.removeEventListener(\"paste\", listener); };\n  }, []);\n\n  const wcDisconnect = React.useCallback(async () => {\n    connector?.killSession();\n    localStorage.removeItem(LOCAL_STORAGE_URI_KEY);\n    setConnector(undefined);\n  }, [connector]);\n\n  const wcConnect = React.useCallback(async (uri) => {\n    // Create Connector\n    const connector = new WalletConnect(\n      {\n        uri,\n        clientMeta: {\n          description: \"EIP4337 any\",\n          url: \"http://localhost:3000/\",\n          icons: [\"https://github.com/WalletConnect/walletconnect-assets/blob/master/Logo/Black/Logo.svg\"],\n          name: \"EIP4337 Any\",\n        },\n      });\n\n    console.log(connector);\n    setPeerData(connector.peerMeta);\n\n    // Subscribe to session requests\n    connector.on(\"session_request\", async (error, payload) => {\n      console.log({ payload });\n      if (error) {\n        throw error;\n      }\n      console.log(\"account\", account);\n      console.log(\"chainId\", chainId);\n\n\n      console.log(\"library\", library);\n\n\n\n\n      // Auto-Approve Session\n      connector.approveSession({\n        accounts: [\"0x4a2F2a0d936c0532175E8cc3E04467AD49dc706A\"],\n        chainId: chainId\n      });\n\n      setPeerData(payload.params[0].peerMeta);\n    });\n\n    // Subscribe to call requests\n    connector.on(\"call_request\", async (error, payload) => {\n      console.log({ payload });\n      if (error) {\n        throw error;\n      }\n\n      if (payload.method === \"eth_sendTransaction\") {\n        const txInfo = payload.params[0];\n        console.log(\"txInfo\", txInfo);\n        setTx({\n          to: txInfo.to,\n          value: txInfo.value,\n          data: txInfo.data\n        });\n      }\n    });\n\n    connector.on(\"disconnect\", (error, payload) => {\n      if (error) {\n        throw error;\n      }\n      wcDisconnect();\n    });\n\n\n    console.log({ connector });\n    setConnector(connector);\n    localStorage.setItem(LOCAL_STORAGE_URI_KEY, uri);\n  }, [account, chainId]);\n\n  useEffect(() => {\n    const uri = localStorage.getItem(LOCAL_STORAGE_URI_KEY);\n\n    if (uri) wcConnect(uri);\n  }, [wcConnect]);\n\n\n\n\n  useEffect(() => {\n    const smartWallet1 = new SmartAccount(library, {\n      activeNetworkId: chainId,\n      supportedNetworksIds: [chainId],\n      networkConfig: [{\n        chainId: chainId,\n        dappAPIKey: chainId === 5 ? 'gUv-7Xh-M.aa270a76-a1aa-4e79-bab5-8d857161c561' : '59fRCMXvk.8a1652f0-b522-4ea7-b296-98628499aee3'//mumbai,\n      }]\n    });\n    smartWallet1.init().then(\n      res => { console.log(res); }\n    ).catch(error => {\n      console.log(error);\n    });\n    setSmartWallet(smartWallet1);\n  }, [chainId, library]);\n\n  const toggleIsGasLess = () => setIsGasLess(!isGasLess);\n\n  useEffect(() => {\n    async function handleTx() {\n      if (tx.to !== null) {\n        if (isGasLess) {\n          console.log(\"in gasless mode\");\n          const tx1 = {\n            to: tx.to,\n            data: tx.data,\n            value: tx.value\n          };\n          console.log(tx1);\n\n          smartWallet.on('txHashGenerated', (response) => {\n            console.log('txHashGenerated event received via emitter', response);\n          });\n\n          smartWallet.on('txMined', (response) => {\n            console.log('txMined event received via emitter', response);\n          });\n\n          smartWallet.on('error', (response) => {\n            console.log('error event received via emitter', response);\n          });\n\n          // transaction.targetTxGas = transaction.targetTxGas * 10;\n          // const gasLimit = 6207500;\n\n\n          const txId = await smartWallet.sendGasLessTransaction({\n            transaction: tx1,\n            // gasLimit: gasLimit,\n          });\n\n        } else {\n          send(tx.to, tx.value || \"0x0\", tx.data || \"0x\");\n        }\n        setTx({ \"to\": null });\n\n      }\n    }\n    handleTx();\n  }, [tx, isGasLess, send, smartWallet]);\n\n\n\n  if (connector === undefined) {\n    return (\n      <>\n        <div>\n          <label htmlFor='cheese-status'>GasLess Mode</label>\n          <Toggle\n            id='cheese-status'\n            defaultChecked={isGasLess}\n            onChange={toggleIsGasLess} />\n\n        </div>\n        <div>\n          <label>\n            Smart Wallet Address\n          </label>\n          <div>\n            <TextField\n              id=\"sc-address\"\n              label=\"Smart Wallet Address\"\n              value={smartWalletAddress}\n              onChange={(e) => setSmartWalletAddress(e.target.value)}\n            />\n          </div>\n          <div>\n            <label>\n              Wallet Connect URI\n            </label>\n            <div>\n              <TextField\n                id=\"wc-uri\"\n                label=\"WalletConnect URI\"\n                value={wcUri}\n                onChange={(e) => setWcUri(e.target.value)}\n              />\n            </div>\n          </div>\n        </div>\n        <div>\n          <Button\n            size=\"md\"\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => wcConnect(wcUri)}>\n            Connect\n          </Button>\n        </div>\n      </>\n    );\n  }\n  else {\n    return (\n      <>\n        <Text size=\"lg\">Bridge: {connector.bridge}</Text>\n        <Text size=\"lg\">Dapp name: {peerData?.name}</Text>\n        <Text size=\"lg\">Dapp url: {peerData?.url}</Text>\n        <div>\n          <Button\n            size=\"md\"\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => wcDisconnect()}>\n            Disconnect\n          </Button>\n        </div>\n      </>);\n  }\n};\n\nfunction App() {\n\n  return (\n    <Container>\n      <Header className=\"header-title\">\n        <h1 className=\"header-title\">AnyAEE7</h1>\n        <WalletButton />\n      </Header>\n      <Body>\n        < WalletConnectEIP4337SmartWallet />\n      </Body>\n      <Footer />\n    </Container>\n  );\n}\n\nexport default App;\n","import \"./index.css\";\n\nimport { DAppProvider, Goerli, Mainnet, Polygon, Mumbai } from \"@usedapp/core\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\n// IMPORTANT, PLEASE READ\n// To avoid disruptions in your app, change this to your own Infura project id.\n// https://infura.io/register\nconst INFURA_PROJECT_ID = \"2a1a54c3aa374385ae4531da66fdf150\";\nconst config = {\n  readOnlyChainId: Mainnet.chainId,\n  readOnlyUrls: {\n    [Mainnet.chainId]: \"https://mainnet.infura.io/v3/\" + INFURA_PROJECT_ID,\n    [Goerli.chainId]: \"https://goerli.infura.io/v3/\" + INFURA_PROJECT_ID,\n    [Polygon.chainId]: \"https://polygon-mainnet.infura.io/v3/\" + INFURA_PROJECT_ID,\n    [Mumbai.chainId]: \"https://polygon-mumbai.infura.io/v3/\" + INFURA_PROJECT_ID,\n  },\n};\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <DAppProvider config={config}>\n      <App />\n    </DAppProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n);\n"],"sourceRoot":""}